(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,function(e,t,n){"use strict";n.r(t);const r=document.getElementById("nzsc-canvas"),o=r.getContext("2d"),a={width:1800,height:1e3},i=()=>{((e,t)=>{const n=window.innerWidth/t.width,r=window.innerHeight/t.height,o=Math.min(n,r),a=t.width*o,i=t.height*o;e.width=t.width,e.height=t.height,e.style.width=a+"px",e.style.height=i+"px",e.style.position="fixed",e.style.left=(window.innerWidth-a)/2+"px",e.style.top=(window.innerHeight-i)/2+"px"})(r,a)};i();const c=()=>({width:r.width,height:r.height}),l=(e,t)=>{const n=r.getBoundingClientRect();e-=n.left,t-=n.top;const o=window.innerWidth/r.width,a=window.innerHeight/r.height,i=Math.min(o,a);return[e/=i,t/=i]};var s={game:null,currentOutput:null,previousOutput:null,repaint:null},u=n(3),p=n(35);const f=n.n(p).a.parse(location.search),h=parseInt(f.seed);var d={overrideSeed:isNaN(h)||h>2**32-1?null:h},g=n(32),m=n.n(g),b=n(31),y=n.n(b),v=n(30),w=n.n(v),S=n(29),O=n.n(S),P=n(28),x=n.n(P),M=n(27),A=n.n(M),E=n(26),I=n.n(E),T=n(25),R=n.n(T),C=n(24),F=n.n(C),N=n(23),_=n.n(N),j=n(22),k=n.n(j),B=n(21),D=n.n(B),H=n(20),q=n.n(H),U=n(19),J=n.n(U),z=n(18),L=n.n(z),G=n(17),$=n.n(G),Z=n(16),K=n.n(Z),W=n(15),X=n.n(W),Y=n(14),V=n.n(Y),Q=n(13),ee=n.n(Q),te=n(12),ne=n.n(te),re=n(11),oe=n.n(re),ae=n(10),ie=n.n(ae),ce=n(9),le=n.n(ce),se=n(8),ue=n.n(se),pe=n(7),fe=n.n(pe),he=n(6),de=n.n(he),ge=n(5),me=n.n(ge),be=n(4),ye=n.n(be);const ve={Kick:m.a,NinjaSword:y.a,Nunchucks:w.a,ShadowFireball:O.a,ShadowSlip:x.a,RunInCircles:A.a,LightningFastKarateChop:I.a,Rampage:R.a,Muscle:F.a,Zap:_.a,Regenerate:k.a,Gravedigger:D.a,ZombieCorps:q.a,Apocalypse:J.a,SamuraiSword:L.a,Helmet:$.a,Smash:K.a,Lightning:X.a,Earthquake:V.a,Twist:ee.a,Bend:ne.a,JugglingKnives:oe.a,AcidSpray:ie.a,Nose:le.a,BackwardsMoustachio:ue.a,NoseOfTheTaunted:fe.a,MustacheMash:de.a,BigHairyDeal:me.a,NoBooster:ye.a},we=[],Se=Object.keys(ve).reduce((e,t)=>{const n=new Image;return n.src=ve[t],we.push(new Promise(e=>{n.addEventListener("load",()=>{e()})})),{...e,[t]:n}},{});Se.waitForAllToLoad=Promise.all(we);var Oe=Se;const Pe=400,xe=800,Me=40,Ae=100,Ee=e=>{if(e<0||e>3)throw new RangeError("nthRect() requires 0 <= n <= 3");return[Me+e*(400+Me),Ae,Pe,xe]},Ie=(e,t)=>{const n=Me,r=Ae,o=Pe;return t<r||t>c().height-r?-1:(e-n)%(o+n)>o?-1:Math.floor((e-n)/(o+n))},Te=210,Re=100,Ce=e=>{const t=c(),n=t.width,r=t.height,o=Te,a=(n-6*o-2*Re)/2,i=(n-4*o-Re)/2,l=(r-4*o-Re)/2,s=[[a+o,l+o],[a+3*o+Re,l+o],[a+5*o+2*Re,l+o],[i+o,l+3*o+Re],[i+3*o+Re,l+3*o+Re]];if(!(e in s))throw new RangeError("nthCircle() expects 0 <= n <= 4");return s[e].concat([o])},Fe=100,Ne="#08B",_e={altitude:100,color:"#EEE"};{const e=2*_e.altitude/3,t=2*Math.PI/3,n=4*Math.PI/3;_e.vertices=[[900+e,500],[900+Math.cos(t)*e,500+Math.sin(t)*e],[900+Math.cos(n)*e,500+Math.sin(n)*e]]}const je=e=>{const[t,n]=l(e.clientX,e.clientY),o=Ie(t,n),{availableCharacters:a}=JSON.parse(s.currentOutput.question());if(!(o in a))return;const i=a[o];s.previousOutput=s.currentOutput,s.currentOutput=s.game.next(i),r.removeEventListener("click",je),"CHOOSE_CHARACTER"===JSON.parse(s.currentOutput.question()).type?Qe():et()},ke=e=>{const[t,n]=l(e.clientX,e.clientY),o=Ie(t,n),{availableBoosters:a}=JSON.parse(s.currentOutput.question());if(!(o in a))return;const i=a[o];s.previousOutput=s.currentOutput,s.currentOutput=s.game.next(i),r.removeEventListener("click",ke),tt()},Be=e=>{const[t,n]=l(e.clientX,e.clientY),o=((e,t)=>{const n=c(),r=[0,1,2,3,4].map(e=>Ce(e,n.width,n.height));for(const n in r){const[o,a,i]=r[n],c=o-e,l=a-t;if(c*c+l*l<=i*i)return n}return-1})(t,n),{availableMoves:a}=JSON.parse(s.currentOutput.question());if(!(o in a))return;const i=a[o];s.previousOutput=s.currentOutput,s.currentOutput=s.game.next(i),r.removeEventListener("click",Be),"DONE"===JSON.parse(s.currentOutput.question()).type?rt():nt()},De=e=>{const[t,n]=l(e.clientX,e.clientY);((e,t)=>{const[n,r,o]=[900,500,Fe],a=n-e,i=r-t;return a*a+i*i<=o*o})(t,n)&&ot()},He=e=>{switch(e){case"Ninja":return"Kick";case"Zombie":return"Rampage";case"Samurai":return"Helmet";case"Clown":return"Nose";default:throw new Error("Illegal character: "+e)}},qe=e=>{switch(e=Ue(e)){case"Shadow":return"ShadowSlip";case"Speedy":return"RunInCircles";case"Regenerative":return"Regenerate";case"ZombieCorps":return"ZombieCorps";case"Atlas":return"Lightning";case"Strong":return"Bend";case"Backwards":return"BackwardsMoustachio";case"Moustachio":return"BigHairyDeal";case"NoBooster":return"NoBooster";default:throw new Error("Illegal booster: "+e)}},Ue=e=>e.split("").filter(e=>" "!==e).join(""),Je={"#111":"\n    NoBooster\n    Kick\n    Nunchucks\n    ShadowFireball\n    RunInCircles\n    LightningFastKarateChop\n    Rampage\n    Muscle\n    Zap\n    Gravedigger\n    ZombieCorps\n    Apocalypse\n    Helmet\n    Smash\n    Lightning\n    Earthquake\n    Nose\n    NoseOfTheTaunted\n  ".trim().split("\n").map(e=>e.trim()),"#ddd":"\n    NinjaSword\n    ShadowSlip\n    Regenerate\n    SamuraiSword\n    Twist\n    Bend\n    AcidSpray\n    MustacheMash\n    BigHairyDeal\n  ".trim().split("\n").map(e=>e.trim()),"#888":"\n    BackwardsMoustachio\n    JugglingKnives\n  ".trim().split("\n").map(e=>e.trim())};var ze=e=>{for(const t in Je)if(Je[t].includes(Ue(e)))return t;throw new TypeError(e+" has no defined background color!")};var Le=({availableCharacters:e,completionFactor:t})=>{o.fillStyle="#F1F1F1",o.fillRect(0,0,1800,1e3);const n=e.map(He);for(let e=0;e<n.length;e++){const r=Ee(e),a=r[0]+1800*(1-t),[,i,c,l]=r;o.fillStyle=ze(n[e]),o.fillRect(a,i,c,l),o.drawImage(Oe[n[e]],a,300,400,400)}};var Ge=({previouslyAvailableCharacters:e,availableCharacters:t,completionFactor:n})=>{o.fillStyle="#F1F1F1",o.fillRect(0,0,1800,1e3);const r=e.map(He),a=t.map(He);for(let e=0;e<r.length;e++){const t=Ee(e),a=t[0]+1800*(0-n),[,i,c,l]=t;o.fillStyle=ze(r[e]),o.fillRect(a,i,c,l),o.drawImage(Oe[r[e]],a,300,400,400)}for(let e=0;e<a.length;e++){const t=Ee(e),r=t[0]+1800*(1-n),[,i,c,l]=t;o.fillRect(r,i,c,l),o.drawImage(Oe[a[e]],r,300,400,400)}};const $e=(e,t)=>{let n=0;for(let r=0;r<t.length;r++){if(e<=(n+=t[r]))return r}throw new RangeError(e+" is not in a phase!")},Ze=(e,t)=>{let n=0;for(let r=0;r<t.length;r++){const o=t[r];if(e<=(n+=o))return e-(n-o)}throw new RangeError(e+" is not in a phase!")};var Ke=(e,t,n)=>e+n*(t-e);var We=({previouslyAvailableCharacters:e,availableBoosters:t,humanCharacter:n,computerCharacter:r,whoGetsTheHeadstart:a,completionFactor:i})=>{const c=[.15,.15,.55,.15];o.fillStyle="#F1F1F1",o.fillRect(0,0,1800,1e3);const l=e.map(He),s=t.map(qe),u=e.findIndex(e=>e===n);if(1!==i){for(let e=0;e<l.length;e++){if(e===u)continue;o.fillStyle=ze(l[e]);const t=Ee(e),[n,r,a,i]=t;o.fillRect(n,r,a,i),o.drawImage(Oe[l[e]],n,300,400,400)}o.fillStyle="#333A",o.fillRect(0,0,1800,1e3)}else for(let e=0;e<s.length;e++){o.fillStyle=ze(s[e]);const[t,n,r,a]=Ee(e);o.fillRect(t,n,r,a),o.drawImage(Oe[s[e]],t,300,400,400)}const p=$e(i,c),f=c[p],h=Ze(i,c);switch(p){case 0:{const e=[200,100,600,800],t=Ee(u).map((t,n)=>Ke(t,e[n],h/f)),[n,r,a,i]=t,c=[200,200,600,600],s=[n,300,400,400].map((e,t)=>Ke(e,c[t],h/f)),[p,d,g,m]=s;o.fillStyle=ze(l[u]),o.fillRect(n,r,a,i),o.drawImage(Oe[l[u]],p,d,g,m);break}case 1:{{const e=[200,100,600,800],[t,n,r,a]=e,i=[200,200,600,600],[c,s,p,f]=i;o.fillStyle=ze(l[u]),o.fillRect(t,n,r,a),o.drawImage(Oe[l[u]],c,s,p,f)}const e=[1e3,100,600,800],t=[1800,100,600,800].map((t,n)=>Ke(t,e[n],h/f)),[n,a,i,c]=t,s=[1e3,200,600,600],p=[1800,200,600,600].map((e,t)=>Ke(e,s[t],h/f)),[d,g,m,b]=p;o.fillStyle=ze(He(r)),o.fillRect(n,a,i,c),o.drawImage(Oe[He(r)],d,g,m,b);break}case 2:{const e=5;{"COMPUTER"===a&&(o.globalAlpha=Ke(1,0,Math.min(h*e,1)));const t=[200,100,600,800],[n,r,i,c]=t,s=[200,200,600,600],[p,f,d,g]=s;o.fillStyle=ze(l[u]),o.fillRect(n,r,i,c),o.drawImage(Oe[l[u]],p,f,d,g),o.globalAlpha=1}{"HUMAN"===a&&(o.globalAlpha=Ke(1,0,Math.min(h*e,1)));const t=[1e3,100,600,800],[n,i,c,l]=t,s=[1e3,200,600,600],[u,p,f,d]=s;o.fillStyle=ze(He(r)),o.fillRect(n,i,c,l),o.drawImage(Oe[He(r)],u,p,f,d),o.globalAlpha=1}break}case 3:if("COMPUTER"!==a){const e=200-h/f*800;o.fillStyle=ze(l[u]),o.fillRect(e,100,600,800),o.drawImage(Oe[l[u]],e,200,600,600)}if("HUMAN"!==a){const e=1e3+h/f*800;o.fillStyle=ze(He(r)),o.fillRect(e,100,600,800),o.drawImage(Oe[He(r)],e,200,600,600)}}};var Xe=({previouslyAvailableBoosters:e,availableMoves:t,completionFactor:n})=>{o.fillStyle="#F1F1F1",o.fillRect(0,0,1800,1e3);const r=e.map(qe),a=t.map(Ue);for(let e=0;e<r.length;e++){const t=Ee(e),a=t[0]+1800*(0-n),[,i,c,l]=t;o.fillStyle=ze(r[e]),o.fillRect(a,i,c,l),o.drawImage(Oe[r[e]],a,300,400,400)}for(let e=0;e<a.length;e++){o.fillStyle=ze(a[e]);const t=Ce(e),r=t[0]+1800*(1-n),[,i,c]=t,l=2*c;o.beginPath(),o.arc(r,i,c,0,2*Math.PI),o.fill(),o.closePath(),o.drawImage(Oe[a[e]],r-c,i-c,l,l)}};var Ye=({previouslyAvailableMoves:e,availableMoves:t,humanMove:n,computerMove:r,whoGetsThePoint:a,humanPoints:i,computerPoints:c,completionFactor:l})=>{const s=[.15,.15,.55,.15];o.fillStyle="#F1F1F1",o.fillRect(0,0,1800,1e3);const u=e.map(Ue),p=t.map(Ue),f=u.findIndex(e=>e===Ue(n));if(1!==l){for(let e=0;e<u.length;e++){if(e===f)continue;o.fillStyle=ze(u[e]);const t=Ce(e),n=t[0],[,r,a]=t,i=2*a;o.beginPath(),o.arc(n,r,a,0,2*Math.PI),o.fill(),o.closePath(),o.drawImage(Oe[u[e]],n-a,r-a,i,i)}o.fillStyle="#333A",o.fillRect(0,0,1800,1e3)}else{for(let e=0;e<p.length;e++){o.fillStyle=ze(p[e]);const t=Ce(e),n=t[0],[,r,a]=t,i=2*a;o.beginPath(),o.arc(n,r,a,0,2*Math.PI),o.fill(),o.closePath(),o.drawImage(Oe[p[e]],n-a,r-a,i,i)}o.fillStyle="#111";for(let e=0;e<i;e++)o.fillRect(100+30*e,850,20,100);for(let e=0;e<c;e++)o.fillRect(1700-30*e,850,20,100)}const h=$e(l,s),d=s[h],g=Ze(l,s);switch(h){case 0:{const e=[490,500,360],t=Ce(f).map((t,n)=>Ke(t,e[n],g/d)),r=t[0],[,a,i]=t,c=2*i;o.fillStyle=ze(n),o.beginPath(),o.arc(r,a,i,0,2*Math.PI),o.fill(),o.closePath(),o.drawImage(Oe[Ue(n)],r-i,a-i,c,c);break}case 1:{{const e=[490,500,360],t=e[0],[,r,a]=e,i=2*a;o.fillStyle=ze(n),o.beginPath(),o.arc(t,r,a,0,2*Math.PI),o.fill(),o.closePath(),o.drawImage(Oe[Ue(n)],t-a,r-a,i,i)}const e=[1310,500,360],t=[1800,500,360].map((t,n)=>Ke(t,e[n],g/d)),a=t[0],[,i,c]=t,l=2*c;o.fillStyle=ze(r),o.beginPath(),o.arc(a,i,c,0,2*Math.PI),o.fill(),o.closePath(),o.drawImage(Oe[Ue(r)],a-c,i-c,l,l);break}case 2:{const e=5;{"COMPUTER"!==a&&"BOTH"!==a||(o.globalAlpha=Ke(1,0,Math.min(g*e,1)));const t=[490,500,360],r=t[0],[,i,c]=t,l=2*c;o.fillStyle=ze(n),o.beginPath(),o.arc(r,i,c,0,2*Math.PI),o.fill(),o.closePath(),o.drawImage(Oe[Ue(n)],r-c,i-c,l,l),o.globalAlpha=1}{"HUMAN"!==a&&"BOTH"!==a||(o.globalAlpha=Ke(1,0,Math.min(g*e,1)));const t=[1310,500,360],n=t[0],[,i,c]=t,l=2*c;o.fillStyle=ze(r),o.beginPath(),o.arc(n,i,c,0,2*Math.PI),o.fill(),o.closePath(),o.drawImage(Oe[Ue(r)],n-c,i-c,l,l),o.globalAlpha=1}break}case 3:if("COMPUTER"!==a&&"BOTH"!==a){const e=[490,500,360],t=e[0]-g/d*850,[,r,a]=e,i=2*a;o.fillStyle=ze(n),o.beginPath(),o.arc(t,r,a,0,2*Math.PI),o.fill(),o.closePath(),o.drawImage(Oe[Ue(n)],t-a,r-a,i,i)}if("HUMAN"!==a&&"BOTH"!==a){const e=[1310,500,360],t=e[0]+g/d*850,[,n,a]=e,i=2*a;o.fillStyle=ze(r),o.beginPath(),o.arc(t,n,a,0,2*Math.PI),o.fill(),o.closePath(),o.drawImage(Oe[Ue(r)],t-a,n-a,i,i)}}};var Ve=({previouslyAvailableMoves:e,humanMove:t,computerMove:n,whoGetsThePoint:r,humanPoints:a,computerPoints:i,completionFactor:c})=>{const l=[.2,.2,.4,.2];o.fillStyle="#F1F1F1",o.fillRect(0,0,1800,1e3);const s=e.map(Ue),u=s.findIndex(e=>e===Ue(t));if(1!==c){for(let e=0;e<s.length;e++){if(e===u)continue;o.fillStyle=ze(s[e]);const t=Ce(e),n=t[0],[,r,a]=t,i=2*a;o.fillStyle=ze(s[e]),o.beginPath(),o.arc(n,r,a,0,2*Math.PI),o.fill(),o.closePath(),o.drawImage(Oe[s[e]],n-a,r-a,i,i)}o.fillStyle="#333A",o.fillRect(0,0,1800,1e3)}else{o.fillStyle=a>i?"#111":"#111A";for(let e=0;e<a;e++)o.fillRect(100+120*e,300,80,400);o.fillStyle=i>a?"#111":"#111A";for(let e=0;e<i;e++)o.fillRect(1620-120*e,300,80,400);o.fillStyle=Ne,o.beginPath(),o.arc(900,500,Fe,0,2*Math.PI),o.fill(),o.closePath(),o.fillStyle=_e.color,o.beginPath(),o.moveTo(_e.vertices[0][0],_e.vertices[0][1]),o.lineTo(_e.vertices[1][0],_e.vertices[1][1]),o.lineTo(_e.vertices[2][0],_e.vertices[2][1]),o.closePath(),o.fill()}const p=$e(c,l),f=l[p],h=Ze(c,l);switch(p){case 0:{const e=[490,500,360],n=Ce(u).map((t,n)=>Ke(t,e[n],h/f)),r=n[0],[,a,i]=n,c=2*i;o.fillStyle=ze(t),o.beginPath(),o.arc(r,a,i,0,2*Math.PI),o.fill(),o.closePath(),o.drawImage(Oe[Ue(t)],r-i,a-i,c,c);break}case 1:{{const e=[490,500,360],n=e[0],[,r,a]=e,i=2*a;o.fillStyle=ze(t),o.beginPath(),o.arc(n,r,a,0,2*Math.PI),o.fill(),o.closePath(),o.drawImage(Oe[Ue(t)],n-a,r-a,i,i)}const e=[1310,500,360],r=[1800,500,360].map((t,n)=>Ke(t,e[n],h/f)),a=r[0],[,i,c]=r,l=2*c;o.fillStyle=ze(n),o.beginPath(),o.arc(a,i,c,0,2*Math.PI),o.fill(),o.closePath(),o.drawImage(Oe[Ue(n)],a-c,i-c,l,l);break}case 2:{const e=5;{"COMPUTER"!==r&&"BOTH"!==r||(o.globalAlpha=Ke(1,0,Math.min(h*e,1)));const n=[490,500,360],a=n[0],[,i,c]=n,l=2*c;o.fillStyle=ze(t),o.beginPath(),o.arc(a,i,c,0,2*Math.PI),o.fill(),o.closePath(),o.drawImage(Oe[Ue(t)],a-c,i-c,l,l),o.globalAlpha=1}{"HUMAN"!==r&&"BOTH"!==r||(o.globalAlpha=Ke(1,0,Math.min(h*e,1)));const t=[1310,500,360],a=t[0],[,i,c]=t,l=2*c;o.fillStyle=ze(n),o.beginPath(),o.arc(a,i,c,0,2*Math.PI),o.fill(),o.closePath(),o.drawImage(Oe[Ue(n)],a-c,i-c,l,l),o.globalAlpha=1}break}case 3:if("COMPUTER"!==r&&"BOTH"!==r){const e=[490,500,360],n=e[0]-h/f*850,[,r,a]=e,i=2*a;o.fillStyle=ze(t),o.beginPath(),o.arc(n,r,a,0,2*Math.PI),o.fill(),o.closePath(),o.drawImage(Oe[Ue(t)],n-a,r-a,i,i)}if("HUMAN"!==r&&"BOTH"!==r){const e=[1310,500,360],t=e[0]+h/f*850,[,r,a]=e,i=2*a;o.fillStyle=ze(n),o.beginPath(),o.arc(t,r,a,0,2*Math.PI),o.fill(),o.closePath(),o.drawImage(Oe[Ue(n)],t-a,r-a,i,i)}}};const Qe=()=>{let e=Date.now(),t=0;const n=JSON.parse(s.previousOutput.question()).availableCharacters,o=JSON.parse(s.currentOutput.question()).availableCharacters;s.repaint=(()=>{Ge({previouslyAvailableCharacters:n,availableCharacters:o,completionFactor:1})});const a=()=>{const i=Date.now();t+=i-e,e=i,t>500&&(t=500),Ge({previouslyAvailableCharacters:n,availableCharacters:o,completionFactor:t/500}),t<500?requestAnimationFrame(a):r.addEventListener("click",je)};requestAnimationFrame(a)},et=()=>{let e=Date.now(),t=0;const n=JSON.parse(s.previousOutput.question()).availableCharacters,o=JSON.parse(s.currentOutput.question()).availableBoosters,a=JSON.parse(s.currentOutput.notifications()).find(e=>"CHARACTER_SELECTION_AND_HEADSTART"===e.type),{humanCharacter:i,computerCharacter:c,whoGetsTheHeadstart:l}=a;s.repaint=(()=>{We({previouslyAvailableCharacters:n,availableBoosters:o,humanCharacter:i,computerCharacter:c,whoGetsTheHeadstart:l,completionFactor:1})});const u=()=>{const a=Date.now();t+=a-e,e=a,t>2e3&&(t=2e3),We({previouslyAvailableCharacters:n,availableBoosters:o,humanCharacter:i,computerCharacter:c,whoGetsTheHeadstart:l,completionFactor:t/2e3}),t<2e3?requestAnimationFrame(u):r.addEventListener("click",ke)};requestAnimationFrame(u)},tt=()=>{let e=Date.now(),t=0;const n=JSON.parse(s.previousOutput.question()).availableBoosters,o=JSON.parse(s.currentOutput.question()).availableMoves;s.repaint=(()=>{Xe({previouslyAvailableBoosters:n,availableMoves:o,completionFactor:1})});const a=()=>{const i=Date.now();t+=i-e,e=i,t>500&&(t=500),Xe({previouslyAvailableBoosters:n,availableMoves:o,completionFactor:t/500}),t<500?requestAnimationFrame(a):r.addEventListener("click",Be)};requestAnimationFrame(a)},nt=()=>{let e=Date.now(),t=0;const n=JSON.parse(s.previousOutput.question()).availableMoves,o=JSON.parse(s.currentOutput.question()).availableMoves,a=JSON.parse(s.currentOutput.notifications()).find(e=>"MOVE_SELECTION_AND_OUTCOME"===e.type),i=JSON.parse(s.currentOutput.notifications()).find(e=>"SCORE_UPDATE"===e.type),{humanMove:c,computerMove:l,whoGetsThePoint:u}=a,{humanPoints:p,computerPoints:f}=i;s.repaint=(()=>{Ye({previouslyAvailableMoves:n,availableMoves:o,humanMove:c,computerMove:l,whoGetsThePoint:u,humanPoints:p,computerPoints:f,completionFactor:1})});const h=()=>{const a=Date.now();t+=a-e,e=a,t>1500&&(t=1500),Ye({previouslyAvailableMoves:n,availableMoves:o,humanMove:c,computerMove:l,whoGetsThePoint:u,humanPoints:p,computerPoints:f,completionFactor:t/1500}),t<1500?requestAnimationFrame(h):r.addEventListener("click",Be)};requestAnimationFrame(h)},rt=()=>{let e=Date.now(),t=0;const n=JSON.parse(s.previousOutput.question()).availableMoves,o=JSON.parse(s.currentOutput.notifications()).find(e=>"MOVE_SELECTION_AND_OUTCOME"===e.type),a=JSON.parse(s.currentOutput.notifications()).find(e=>"SCORE_UPDATE"===e.type),{humanMove:i,computerMove:c,whoGetsThePoint:l}=o,{humanPoints:u,computerPoints:p}=a;s.repaint=(()=>{Ve({previouslyAvailableMoves:n,humanMove:i,computerMove:c,whoGetsThePoint:l,humanPoints:u,computerPoints:p,completionFactor:1})});const f=()=>{const o=Date.now();t+=o-e,e=o,t>1500&&(t=1500),Ve({previouslyAvailableMoves:n,humanMove:i,computerMove:c,whoGetsThePoint:l,humanPoints:u,computerPoints:p,completionFactor:t/1500}),t<1500?requestAnimationFrame(f):r.addEventListener("click",De)};requestAnimationFrame(f)};var ot=()=>{const e=u.a.new(null===d.overrideSeed?Math.random()*(2**32-1):d.overrideSeed);s.game=e,s.previousOutput=null,s.currentOutput=e.initial_output(),Oe.waitForAllToLoad.then(()=>{(()=>{let e=Date.now(),t=0;const n=JSON.parse(s.currentOutput.question()).availableCharacters;s.repaint=(()=>{Le({availableCharacters:n,completionFactor:1})});const o=()=>{const a=Date.now();t+=a-e,e=a,t>500&&(t=500),Le({availableCharacters:n,completionFactor:t/500}),t<500?requestAnimationFrame(o):r.addEventListener("click",je)};requestAnimationFrame(o)})()})};ot(),window.addEventListener("resize",()=>{i(),s.repaint&&s.repaint()}),"serviceWorker"in navigator&&navigator.serviceWorker.register("./service-worker.js")},function(e,t,n){(function(e,r){var o=/%[sdj%]/g;t.format=function(e){if(!b(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(c(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,a=r.length,i=String(e).replace(o,function(e){if("%%"===e)return"%";if(n>=a)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),l=r[n];n<a;l=r[++n])g(l)||!w(l)?i+=" "+l:i+=" "+c(l);return i},t.deprecate=function(n,o){if(y(e.process))return function(){return t.deprecate(n,o).apply(this,arguments)};if(!0===r.noDeprecation)return n;var a=!1;return function(){if(!a){if(r.throwDeprecation)throw new Error(o);r.traceDeprecation?console.trace(o):console.error(o),a=!0}return n.apply(this,arguments)}};var a,i={};function c(e,n){var r={seen:[],stylize:s};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),d(n)?r.showHidden=n:n&&t._extend(r,n),y(r.showHidden)&&(r.showHidden=!1),y(r.depth)&&(r.depth=2),y(r.colors)&&(r.colors=!1),y(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=l),u(r,e,r.depth)}function l(e,t){var n=c.styles[t];return n?"["+c.colors[n][0]+"m"+e+"["+c.colors[n][1]+"m":e}function s(e,t){return e}function u(e,n,r){if(e.customInspect&&n&&P(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,e);return b(o)||(o=u(e,o,r)),o}var a=function(e,t){if(y(t))return e.stylize("undefined","undefined");if(b(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(m(t))return e.stylize(""+t,"number");if(d(t))return e.stylize(""+t,"boolean");if(g(t))return e.stylize("null","null")}(e,n);if(a)return a;var i=Object.keys(n),c=function(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}(i);if(e.showHidden&&(i=Object.getOwnPropertyNames(n)),O(n)&&(i.indexOf("message")>=0||i.indexOf("description")>=0))return p(n);if(0===i.length){if(P(n)){var l=n.name?": "+n.name:"";return e.stylize("[Function"+l+"]","special")}if(v(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(S(n))return e.stylize(Date.prototype.toString.call(n),"date");if(O(n))return p(n)}var s,w="",x=!1,M=["{","}"];(h(n)&&(x=!0,M=["[","]"]),P(n))&&(w=" [Function"+(n.name?": "+n.name:"")+"]");return v(n)&&(w=" "+RegExp.prototype.toString.call(n)),S(n)&&(w=" "+Date.prototype.toUTCString.call(n)),O(n)&&(w=" "+p(n)),0!==i.length||x&&0!=n.length?r<0?v(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),s=x?function(e,t,n,r,o){for(var a=[],i=0,c=t.length;i<c;++i)E(t,String(i))?a.push(f(e,t,n,r,String(i),!0)):a.push("");return o.forEach(function(o){o.match(/^\d+$/)||a.push(f(e,t,n,r,o,!0))}),a}(e,n,r,c,i):i.map(function(t){return f(e,n,r,c,t,x)}),e.seen.pop(),function(e,t,n){if(e.reduce(function(e,t){return 0,t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(s,w,M)):M[0]+w+M[1]}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,n,r,o,a){var i,c,l;if((l=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?c=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(c=e.stylize("[Setter]","special")),E(r,o)||(i="["+o+"]"),c||(e.seen.indexOf(l.value)<0?(c=g(n)?u(e,l.value,null):u(e,l.value,n-1)).indexOf("\n")>-1&&(c=a?c.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+c.split("\n").map(function(e){return"   "+e}).join("\n")):c=e.stylize("[Circular]","special")),y(i)){if(a&&o.match(/^\d+$/))return c;(i=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(i=i.substr(1,i.length-2),i=e.stylize(i,"name")):(i=i.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),i=e.stylize(i,"string"))}return i+": "+c}function h(e){return Array.isArray(e)}function d(e){return"boolean"==typeof e}function g(e){return null===e}function m(e){return"number"==typeof e}function b(e){return"string"==typeof e}function y(e){return void 0===e}function v(e){return w(e)&&"[object RegExp]"===x(e)}function w(e){return"object"==typeof e&&null!==e}function S(e){return w(e)&&"[object Date]"===x(e)}function O(e){return w(e)&&("[object Error]"===x(e)||e instanceof Error)}function P(e){return"function"==typeof e}function x(e){return Object.prototype.toString.call(e)}function M(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(y(a)&&(a=r.env.NODE_DEBUG||""),e=e.toUpperCase(),!i[e])if(new RegExp("\\b"+e+"\\b","i").test(a)){var n=r.pid;i[e]=function(){var r=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,r)}}else i[e]=function(){};return i[e]},t.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=h,t.isBoolean=d,t.isNull=g,t.isNullOrUndefined=function(e){return null==e},t.isNumber=m,t.isString=b,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=y,t.isRegExp=v,t.isObject=w,t.isDate=S,t.isError=O,t.isFunction=P,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(37);var A=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function E(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){var e,n;console.log("%s - %s",(e=new Date,n=[M(e.getHours()),M(e.getMinutes()),M(e.getSeconds())].join(":"),[e.getDate(),A[e.getMonth()],n].join(" ")),t.format.apply(t,arguments))},t.inherits=n(36),t._extend=function(e,t){if(!t||!w(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(this,n(39),n(38))},function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"b",function(){return g});var r=n(40);let o=new("object"==typeof self&&self.TextDecoder?self.TextDecoder:n(2).TextDecoder)("utf-8"),a=null;function i(){return null!==a&&a.buffer===r.f.buffer||(a=new Uint8Array(r.f.buffer)),a}function c(e,t){return o.decode(i().subarray(e,e+t))}let l=null;function s(){return null===l&&(l=r.d()),l}let u=null;function p(){return null!==u&&u.buffer===r.f.buffer||(u=new Uint32Array(r.f.buffer)),u}let f=new("object"==typeof self&&self.TextEncoder?self.TextEncoder:n(2).TextEncoder)("utf-8");class h{static __construct(e){return new h(e)}constructor(e){this.ptr=e}free(){const e=this.ptr;this.ptr=0,r.a(e)}notifications(){const e=s();r.g(e,this.ptr);const t=p(),n=t[e/4],o=t[e/4+1],a=c(n,o).slice();return r.c(n,1*o),a}question(){const e=s();r.h(e,this.ptr);const t=p(),n=t[e/4],o=t[e/4+1],a=c(n,o).slice();return r.c(n,1*o),a}}class d{static __construct(e){return new d(e)}constructor(e){this.ptr=e}free(){const e=this.ptr;this.ptr=0,r.b(e)}static new(e){return d.__construct(r.j(e))}initial_output(){return h.__construct(r.i(this.ptr))}next(e){const[t,n]=function(e){const t=f.encode(e),n=r.e(t.length);return i().set(t,n),[n,t.length]}(e);try{return h.__construct(r.k(this.ptr,t,n))}finally{r.c(t,1*n)}}}function g(e,t){throw new Error(c(e,t))}},function(e,t,n){e.exports=n.p+"a6567a75cd44a18e8a431f57014b4948.png"},function(e,t,n){e.exports=n.p+"812b2f5d5eb73b91442b055527b4b1cf.png"},function(e,t,n){e.exports=n.p+"b43550c7072049581379897a765026a8.png"},function(e,t,n){e.exports=n.p+"23f8548f2a79bdfbf5c75d567167ae82.png"},function(e,t,n){e.exports=n.p+"6dce7f3372a412719d738f3f89b9e6eb.png"},function(e,t,n){e.exports=n.p+"8e28dae4b0729f881e7039cd45f66508.png"},function(e,t,n){e.exports=n.p+"33726fbcb7dd80e928f64c19f6b77381.png"},function(e,t,n){e.exports=n.p+"426f6d43f5528bc2c7f1e112609c90c5.png"},function(e,t,n){e.exports=n.p+"29120fc1cb5592377dd92daf2825faf0.png"},function(e,t,n){e.exports=n.p+"257ddeaa56614f57476f17fe845e4cfa.png"},function(e,t,n){e.exports=n.p+"2fc028ad14099e84fffc65b5c1d1a56c.png"},function(e,t,n){e.exports=n.p+"545e9144c338a09d0964fe686cb1fdf0.png"},function(e,t,n){e.exports=n.p+"c18823d9bf72ff812ca449cb30547723.png"},function(e,t,n){e.exports=n.p+"6756022bbef7a298400f8a244f778919.png"},function(e,t,n){e.exports=n.p+"9e27cf6edbe1d107a385d0f7046124ca.png"},function(e,t,n){e.exports=n.p+"28c483710cff64d10e2f959490227081.png"},function(e,t,n){e.exports=n.p+"28d9191ddfef0382fd21cc712cc6dee9.png"},function(e,t,n){e.exports=n.p+"598356ddf665c325e46453ed3ac2449d.png"},function(e,t,n){e.exports=n.p+"95abe119d6b03eeee48562e7e028a6a4.png"},function(e,t,n){e.exports=n.p+"7329f3b81c7bab3d555f1945e0585fcd.png"},function(e,t,n){e.exports=n.p+"2ed09b57e356edad8d9cdef4218babe7.png"},function(e,t,n){e.exports=n.p+"5c41cffad63a5b67a3072fd52273218d.png"},function(e,t,n){e.exports=n.p+"46e20d86d16e1aa9b62e718d08147eef.png"},function(e,t,n){e.exports=n.p+"2f3b1be627a28b780321e09343274106.png"},function(e,t,n){e.exports=n.p+"cd70c5d54494f3b652628c9edf7625c7.png"},function(e,t,n){e.exports=n.p+"140948bb3ebb27033f3ed626a87cc485.png"},function(e,t,n){e.exports=n.p+"c18eadb805abd3e802803c4423aec15c.png"},function(e,t,n){e.exports=n.p+"8a030ae90ecc7b074af4eeba6de5fad9.png"},function(e,t,n){e.exports=n.p+"d7fc054174122b3227838a30243d994b.png"},function(e,t,n){"use strict";var r=new RegExp("%[a-f0-9]{2}","gi"),o=new RegExp("(%[a-f0-9]{2})+","gi");function a(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],a(n),a(r))}function i(e){try{return decodeURIComponent(e)}catch(o){for(var t=e.match(r),n=1;n<t.length;n++)t=(e=a(t,n).join("")).match(r);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},n=o.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var r=i(n[0]);r!==n[0]&&(t[n[0]]=r)}n=o.exec(e)}t["%C2"]="�";for(var a=Object.keys(t),c=0;c<a.length;c++){var l=a[c];e=e.replace(new RegExp(l,"g"),t[l])}return e}(e)}}},function(e,t,n){"use strict";e.exports=(e=>encodeURIComponent(e).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))},function(e,t,n){"use strict";const r=n(34),o=n(33);function a(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}function i(e,t){return t.decode?o(e):e}function c(e){const t=e.indexOf("?");return-1===t?"":e.slice(t+1)}function l(e,t){const n=function(e){let t;switch(e.arrayFormat){case"index":return(e,n,r)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return(e,n,r)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};default:return(e,t,n)=>{void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t=Object.assign({decode:!0,arrayFormat:"none"},t)),r=Object.create(null);if("string"!=typeof e)return r;if(!(e=e.trim().replace(/^[?#&]/,"")))return r;for(const o of e.split("&")){let[e,a]=o.replace(/\+/g," ").split("=");a=void 0===a?null:i(a,t),n(i(e,t),a,r)}return Object.keys(r).sort().reduce((e,t)=>{const n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort((e,t)=>Number(e)-Number(t)).map(e=>t[e]):t}(n):e[t]=n,e},Object.create(null))}t.extract=c,t.parse=l,t.stringify=((e,t)=>{!1===(t=Object.assign({encode:!0,strict:!0,arrayFormat:"none"},t)).sort&&(t.sort=(()=>{}));const n=function(e){switch(e.arrayFormat){case"index":return(t,n,r)=>null===n?[a(t,e),"[",r,"]"].join(""):[a(t,e),"[",a(r,e),"]=",a(n,e)].join("");case"bracket":return(t,n)=>null===n?[a(t,e),"[]"].join(""):[a(t,e),"[]=",a(n,e)].join("");default:return(t,n)=>null===n?a(t,e):[a(t,e),"=",a(n,e)].join("")}}(t);return e?Object.keys(e).sort(t.sort).map(r=>{const o=e[r];if(void 0===o)return"";if(null===o)return a(r,t);if(Array.isArray(o)){const e=[];for(const t of o.slice())void 0!==t&&e.push(n(r,t,e.length));return e.join("&")}return a(r,t)+"="+a(o,t)}).filter(e=>e.length>0).join("&"):""}),t.parseUrl=((e,t)=>({url:e.split("?")[0]||"",query:l(c(e),t)}))},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){var n,r,o=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function c(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(e){n=a}try{r="function"==typeof clearTimeout?clearTimeout:i}catch(e){r=i}}();var l,s=[],u=!1,p=-1;function f(){u&&l&&(u=!1,l.length?s=l.concat(s):p=-1,s.length&&h())}function h(){if(!u){var e=c(f);u=!0;for(var t=s.length;t;){for(l=s,s=[];++p<t;)l&&l[p].run();p=-1,t=s.length}l=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];s.push(new d(e,t)),1!==s.length||u||c(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var r=n.w[e.i];t.f=r.exports.memory,t.b=r.exports.__wbg_singleplayernzscwebinterface_free,t.a=r.exports.__wbg_outputwebinterface_free,t.g=r.exports.outputwebinterface_notifications,t.h=r.exports.outputwebinterface_question,t.j=r.exports.singleplayernzscwebinterface_new,t.i=r.exports.singleplayernzscwebinterface_initial_output,t.k=r.exports.singleplayernzscwebinterface_next,t.e=r.exports.__wbindgen_malloc,t.c=r.exports.__wbindgen_free,t.d=r.exports.__wbindgen_global_argument_ptr,n(3),r.exports.__webpack_init__()}]]);